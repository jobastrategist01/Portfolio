<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <!-- Custom styles for this template -->
    <link href="assets/css/custom.css" rel="stylesheet">
    <link href="assets/css/navbar.css" rel="stylesheet">
    <title>Jorge Barros/Marketing Strategist</title>
    <style>
        /* Additional CSS for the dropdown */
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
            z-index: 1;
            top: 45px; /* Adjust this value based on the height of your navbar */
            right: 0;
        }

        .dropdown-content a {
            padding: 12px 16px;
            display: block;
            text-decoration: none;
            color: #333;
        }

        .dropdown-content a:hover {
            background-color: #ddd;
        }
    </style>
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="container">
            <div class="logo">MY PORTFOLIO&raquo;</div>
            <div class="menu" id="menu">
                <a href="index.html">Home</a>
                <a href="#cv">CV</a>
                <a href="projects.html">Projects</a>
            </div>
            <div class="hamburger-menu" onclick="toggleMenu()">
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
                <!-- Dropdown menu -->
                <div class="dropdown-content" id="dropdownContent">
                    <a href="index.html">Home</a>
                    <a href="#cv">CV</a>
                    <a href="projects.html">Projects</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Projects Content -->
    <div class="projects-container">
        <h1 class="project-headline">My Projects</h1>

        <div id="readme-content"></div>

        <ul class="project-list">
            <li class="project-list-item"><a href="javascript:void(0)" onclick="openProject('projects/Movies1980-2020/Movies1980-2020.md')">Project 1</a></li>
            <!-- Add more projects as needed -->
        </ul>

        <a href="#projects" class="return-button">Return to Projects</a>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="script.js"></script>
    <script>
        function toggleMenu() {
            var dropdownContent = document.getElementById("dropdownContent");
            dropdownContent.style.display = (dropdownContent.style.display === "block") ? "none" : "block";
        }

        function openProject(projectPath) {
            console.log('Opening project:', projectPath);
            loadMarkdown(projectPath);
        }
    </script>

    <!-- Link Showdown from unpkg -->
    <script src="https://unpkg.com/showdown/dist/showdown.min.js"></script>

<script>
    function toggleMenu() {
        var dropdownContent = document.getElementById("dropdownContent");
        dropdownContent.style.display = (dropdownContent.style.display === "block") ? "none" : "block";
    }

    // Function to load and render the content of the README.md
    function loadReadme() {
        var readmeContainer = document.getElementById('readme-content');

        // Change 'tuusuario' and 'turepositorio' with your actual GitHub username and repository name
        var readmeUrl = 'https://raw.githubusercontent.com/jobastrategist01/Portfolio/main/EDA-projects/Movie-profit-Data-Analysis/Movies1980-2020.md';

        // Make a request to get the content of the README.md
        fetch(readmeUrl)
            .then(response => response.text())
            .then(data => {
                // Convert Markdown content to HTML using Showdown
                var converter = new showdown.Converter();
                var htmlContent = converter.makeHtml(data);

                // Insert the HTML content into the container
                readmeContainer.innerHTML = htmlContent;

                // Find all links in the content and add an event listener
                var links = readmeContainer.querySelectorAll('a');
                links.forEach(link => {
                    link.addEventListener('click', function (event) {
                        event.preventDefault();
                        loadMarkdown(link.href);
                    });
                });
            })
            .catch(error => {
                console.error('Error loading README.md', error);
            });
    }

    // Function to load and render the content of a Markdown file
    function loadMarkdown(url) {
        fetch(url)
            .then(response => response.text())
            .then(data => {
                // Convert Markdown content to HTML using Showdown
                var converter = new showdown.Converter();
                var htmlContent = converter.makeHtml(data);

                // Insert the HTML content into the container
                document.getElementById('readme-content').innerHTML = htmlContent;
            })
            .catch(error => {
                console.error('Error loading Markdown file', error);
            });
    }

    // Call the function when the page is loaded
    document.addEventListener('DOMContentLoaded', loadReadme);
</script>

</body>

</html>
